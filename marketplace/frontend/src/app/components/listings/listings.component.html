<div *ngIf="listings.length > 0; else noListings">
  <div *ngFor="let listing of listings">
    <h3>
      <a [routerLink]="['/listings', listing.id]">{{ listing.title }}</a>
    </h3>
    <p>{{ listing.description }}</p>
    <p><strong>Price:</strong> ${{ listing.price }}</p>
    <p><strong>Posted on:</strong> {{ listing.created_at | date }}</p>
    
    <!-- Show Edit and Delete buttons ONLY if the logged-in user is the owner -->
    <div *ngIf="listing.user_id === userId">
      <button (click)="editListing(listing.id)">Edit</button>
      <button (click)="deleteListing(listing.id)">Delete</button>
    </div>

    <hr />
  </div>
</div>

<ng-template #noListings>
  <p>No listings available.</p>
</ng-template>

<button (click)="goToAddListing()">Add Listing</button>