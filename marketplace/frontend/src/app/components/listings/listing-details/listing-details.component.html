<div *ngIf="listing; else loading">
  <h2>{{ listing.title }}</h2>
  <p><strong>Category:</strong> {{ listing.category }}</p>
  <p><strong>Price:</strong> ${{ listing.price }}</p>
  <p><strong>Description:</strong> {{ listing.description }}</p>
  <p><strong>Posted on:</strong> {{ listing.created_at | date }}</p>
  <p><strong>Listing Owner ID:</strong> {{ listing.user_id }}</p>
  <p><strong>Logged-in User ID:</strong> {{ userId }}</p>

  <div *ngIf="listing?.user_id === userId">
    <button (click)="editListing()">Edit</button>
    <button (click)="deleteListing()">Delete</button>
  </div>

  <button routerLink="/listings">Back to Listings</button>
</div>

<ng-template #loading>
  <p>Loading listing details...</p>
</ng-template>

<ng-template #errorTemplate>
  <p>{{ errorMessage }}</p>
</ng-template>